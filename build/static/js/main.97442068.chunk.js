(this["webpackJsonphyrmy-frontend"]=this["webpackJsonphyrmy-frontend"]||[]).push([[0],{53:function(e,t,n){e.exports=n(83)},83:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(19),s=n.n(r),u=n(7),o=n(8),l=n(16),c=n(88),m=function(){var e=Object(u.c)((function(e){return e.notification}));return e?i.a.createElement("div",null,"error"===e.type?i.a.createElement("div",{className:"container"},e.message&&i.a.createElement(c.a,{variant:"danger"},e.message)):i.a.createElement("div",{className:"container"},e.message&&i.a.createElement(c.a,{variant:"success"},e.message))):i.a.createElement("div",null)},p=function(){return i.a.createElement("div",null,"Blog app for",i.a.createElement("a",{href:"https://courses.helsinki.fi/fi/tkt21009"},"Full Stack -websovelluskehitys"),".",i.a.createElement("br",null),"My rep ",i.a.createElement("a",{href:"https://github.com/Hyrmy"},"My github"),"for the source code.")},v=n(85),k=(Object(u.b)((function(e){return{login:e.login,users:e.users}}))((function(e){return i.a.createElement("div",null,i.a.createElement("h3",null,"Users"),e.users?i.a.createElement(v.a,{striped:!0},i.a.createElement("tbody",null,e.users.map((function(e){return i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,i.a.createElement(o.b,{to:"users/".concat(e.id)},"".concat(e.username))),i.a.createElement("td",null," Total blogs: ".concat(e.blogs.length)))})))):null)})),n(3)),f=n.n(k),d=n(6),E=n(15),h=n(10),y=n.n(h),j={login:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN":return t.data;case"CLEAR_LOGIN":return null;default:return e}},b=n(87),O=n(86),w={setLogin:function(e){return function(){var t=Object(d.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.login(e);case 2:a=t.sent,window.localStorage.setItem("loggedEventappLogin",JSON.stringify(a)),n({type:"SET_LOGIN",data:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},N=Object(u.b)((function(e){return{login:e.login}}),w)((function(e){var t=Object(a.useState)(""),n=Object(E.a)(t,2),r=n[0],s=n[1],u=Object(a.useState)(""),o=Object(E.a)(u,2),l=o[0],c=o[1],m=function(){var t=Object(d.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.setLogin({username:l,password:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement("div",null,i.a.createElement("h2",null,"Login"),i.a.createElement(b.a,{onSubmit:m},i.a.createElement(b.a.Group,null,i.a.createElement(b.a.Label,null,"username:"),i.a.createElement(b.a.Control,{id:"username",name:"username",onChange:function(e){c(e.target.value)}}),i.a.createElement(b.a.Label,null,"password:"),i.a.createElement(b.a.Control,{id:"password",name:"password",type:"password",onChange:function(e){s(e.target.value)}}),i.a.createElement(O.a,{id:"login-button",variant:"primary",type:"submit"},"Login"))))})),T={clearLogin:function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear(),t({type:"CLEAR_LOGIN"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},I=Object(u.b)((function(e){return{login:e.login}}),T)((function(e){var t={padding:5},n=function(){var t=Object(d.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.clearLogin();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log(e.login),i.a.createElement("div",{style:{border:"solid",borderWidth:5,padding:10}},i.a.createElement(o.b,{style:t,to:"/"},"Etusivu"),i.a.createElement(o.b,{style:t,to:"/events"},"Events"),e.login?i.a.createElement("div",null,i.a.createElement(o.b,{style:t,to:"/addevent"},"Add new event"),i.a.createElement("p",null,"Logged in ",e.login.username,i.a.createElement("button",{style:{padding:5,float:"right"},onClick:n},"Logout"))):i.a.createElement(o.b,{style:t,to:"/login"},"Admin login"))})),x=n(31),S=n(51),L=null,C={getAll:function(){return y.a.get("/api/events").then((function(e){return e.data}))},create:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:L}},e.next=3,y.a.post("/api/events",t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return y.a.put("".concat("/api/events","/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){L="bearer ".concat(e)},remove:function(e){var t={headers:{Authorization:L}};return y.a.delete("".concat("/api/events","/").concat(e),t).then((function(e){return e.data}))},likeEvent:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("/api/events","/").concat(t));case 2:return(n=e.sent).data.likes=n.data.likes+1,e.abrupt("return",y.a.put("".concat("/api/events","/").concat(t),n.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),commentEvent:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("/api/events","/").concat(t));case 2:return(a=e.sent).data.comments.push(n),e.abrupt("return",y.a.put("".concat("/api/events","/").concat(t),a.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(d.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.remove(e);case 2:n({type:"REMOVE_EVENT",data:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_EVENT":return[].concat(Object(S.a)(e),[t.data]);case"LIKE":var n=t.data.id,a=e.find((function(e){return e.id===n})),i=Object(x.a)({},a,{likes:a.likes+1});return e.sort((function(e,t){return t.id===n?t.likes+1-e.likes:e.id===n?t.likes-(e.likes+1):t.likes-e.likes})),e.map((function(e){return e.id!==n?e:i}));case"NEW_COMMENT":var r=t.data.id,s=t.data.comment;console.log("commentID: ",r),console.log("comment: ",s);var u=e.find((function(e){return e.id===r}));console.log("EVENTToComment: ",u);var o=u.comments;o.push(s);var l=Object(x.a)({},u,{comments:o});return e.map((function(e){return e.id!==l?e:l}));case"REMOVE_EVENT":var c=t.data.id,m=e.filter((function(e){return e.id!==c}));return m;case"INIT_EVENTS":return t.data;default:return e}},_=function(e){return{type:"NEW_NOTIFICATION",data:{message:e,type:"error"}}},Y=function(e){return{type:"NEW_NOTIFICATION",data:{message:e,type:"success"}}},A=function(){return{type:"REMOVE_NOTIFICATION"}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_NOTIFICATION":return t.data;case"REMOVE_NOTIFICATION":return null;default:return e}},V=function(e){return i.a.createElement("div",null,i.a.createElement("p",null,"Raskaan musiikin yst","\xe4","v","\xe4","t!"),i.a.createElement("p",null,"Hei fuksit, vaihto-oppilaat ja muut uudet kasvot!"),i.a.createElement("p",null,"Helsingin yliopiston raskaan musiikin yst","\xe4","v","\xe4","t - HYRMY on Helsingin yliopiston piiriss","\xe4"," toimiva j","\xe4","rjest","\xf6",", jonka tarkoituksena on raskaan musiikin harrastajien yhdist","\xe4","minen ja heid","\xe4","n harrastuksensa tukeminen. HYRMY on asiaansa uskova joukko ihmisi","\xe4",", joille metallimusiikki on syd","\xe4","nt","\xe4"," ","l","\xe4","hell","\xe4",". Tervetuloa!"),i.a.createElement("p",null,"HYRMY tarjoaa j","\xe4","senilleen villi","\xe4"," menoa ja seuraa raskaan musiikin harrastuksen kaikissa olomuodoissa. J","\xe4","rjest","\xe4","mme musiikinpauhuisia kerhoiltoja, henkevi","\xe4"," keskusteluja musiikki-iltojen muodossa, remuamme keikoilla ja festivaaleilla ja j","\xe4","rjest","\xe4","mme l","\xe4","j","\xe4","p","\xe4","itt","\xe4","in muuta oheistoimintaa. Jos kaipaat siskoja ja velji","\xe4"," el","\xe4","m","\xe4","n raskaalla taipaleella, me olemme j","\xe4","rjest","\xf6","si."),i.a.createElement("p",null,"Alle on koostettu j","\xe4","rjest","\xf6","st","\xe4"," tiukka informaatiorutistus, joten tutustuthan siihen!"),i.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/JOgIRii1vuU",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),i.a.createElement("h3",null,"HYRMY:n historian ja toiminnan lyhyt oppim","\xe4","\xe4","r","\xe4"),i.a.createElement("p",null,"Kaikki alkoi 26.3.2002 (ainakin virallisesti), kun HYRMY hyv","\xe4","ksyttiin HYY:n alaiseksi j","\xe4","rjest","\xf6","ksi sen aikaisten perustajaj","\xe4","senten aloitteesta. Silloin HYRMY, eli Helsingin yliopiston raskaan musiikin yst","\xe4","v","\xe4","t, koostui pienest","\xe4"," ","kaveriporukasta, joita yhdisti ennen kaikkea rakkaus metalliin. Nyky","\xe4","\xe4","n j","\xe4","rjest","\xf6","\xe4"," tuskin voi en","\xe4","\xe4"," kutsua pieneksi, sill","\xe4"," n","\xe4","iden 18 vuoden aikana j","\xe4","senm","\xe4","\xe4","r","\xe4"," on kivunnut vain kourallisesta muutamaan sataseen. Muutos on silminn","\xe4","ht","\xe4","viss","\xe4"," j","\xe4","rjest","\xf6","n tapahtumissa; perustamisen aikoihin kaikki hyrmyl","\xe4","iset saattoivatkin mahtua yhden saman p","\xf6","yd","\xe4","n ","\xe4","\xe4","reen keskustelemaan musiikista tuopillisen kera, mutta viime vuosina suurimmissa tapahtumissa p","\xf6","yti","\xe4"," on ollut pakko olla useampia - istumapaikoista puhumattakaan."),i.a.createElement("p",null,"Vaikka kasvaneet k","\xe4","vij","\xe4","m","\xe4","\xe4","r","\xe4","t ovatkin toisinaan tehneet musiikin asettamisesta keski","\xf6","\xf6","n haastavaa, ja meno on sen vuoksi monessa k","\xe4","\xe4","ntess","\xe4"," uhannut menn","\xe4"," pelk","\xe4","n ryypp","\xe4","\xe4","misen puolelle, HYRMY pit","\xe4","\xe4"," nyky","\xe4","\xe4","n aktiivisesti huolta siit","\xe4",", ett","\xe4"," ","perustajien musiikkipainotteinen visio pysyy elinvoimaisena j","\xe4","rjest","\xf6","n ytimess","\xe4",". Kaljoittelun vastapainoksi ja vision edist","\xe4","miseksi on kehitelty muunmuassa vuonna 2015 alkunsa saaneet musiikki-illat, joissa painopiste lep","\xe4","\xe4"," ensisijaisesti musiikin kuuntelussa ja siit","\xe4"," ","keskustelemisessa. Muita musiikkipainotteisia tapahtumia ovat esimerkiksi keikkaetkot, joista voi hakea hyv","\xe4","n noususuhdanteen ja seuran milloin mink","\xe4","kin b","\xe4","ndin keikalle. J","\xe4","rjest","\xf6","lle on kertynyt my","\xf6","s jonkinlaista kokemusta keikkaj","\xe4","rjest","\xe4","j","\xe4","n","\xe4"," toimimisesta, joskin tuo toiminta on viime vuosina j","\xe4","\xe4","nyt enemm","\xe4","n taka-alalle. Huhut kuitenkin kertovat, ett","\xe4"," keikkatoimintaa olisi tarkoitus her","\xe4","tell","\xe4"," ","j","\xe4","lleen eloon, kunhan olosuhteet sen joskus sallivat."),i.a.createElement("p",null,"J","\xe4","senm","\xe4","\xe4","r","\xe4","n kasvusta ja sen tuomista muutoksista huolimatta yksi asia on aina pysynyt ja tulee pysym","\xe4","\xe4","n tulevinakin vuosina samana: rakkaus metalliin. T","\xe4","m","\xe4","n yhdist","\xe4","v","\xe4","n tekij","\xe4","n vuoksi ei tarvitse huolehtia siit","\xe4",", etteik","\xf6"," tapahtumissa l","\xf6","ytyisi jotain seuraa ja keskustelunaihetta. Ei v","\xe4","li","\xe4"," sill","\xe4",", mist","\xe4"," genreist","\xe4"," pid","\xe4","t, mist","\xe4"," ","maasta olet kotoisin tai mit","\xe4"," p","\xe4","\xe4","ainetta opiskelet - kaikki metallimusiikkiin intohimoisesti suhtautuvat ovat tervetulleita HYRMY:yn!"))},J={newLike:function(e){return function(){var t=Object(d.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.likeEVENT(e);case 2:n({type:"LIKE",data:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeEvent:R,createSuccessNotification:Y,clearNotification:A,createErrorNotification:_},F=Object(u.b)((function(e){return{visibleEvents:(t=e,t.events),login:e.login};var t}),J)((function(e){return i.a.createElement("div",null,i.a.createElement("h2",null,"Events"),i.a.createElement(v.a,{striped:!0},i.a.createElement("tbody",null,e.visibleEvents.map((function(e){return i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,i.a.createElement(o.b,{to:"events/".concat(e.id)},i.a.createElement("h3",null,"".concat(e.title)))))})))))})),W={createSuccessNotification:Y,createErrorNotification:_,clearNotification:A,removeEvent:R},G=Object(u.b)((function(e){return{login:e.login,events:e.events}}),W)((function(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),r=(n[0],n[1]),s=Object(l.f)().id,u=e.events.find((function(e){return e.id===s})),o=function(){var t=Object(d.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Do you really want to remove ".concat(u.title,"?"))){t.next=2;break}return t.abrupt("return");case 2:r(!0),e.createErrorNotification("Removed ".concat(u.title,".")),e.removeEvent(u.id),setTimeout((function(){e.clearNotification()}),5e3);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return u?i.a.createElement("div",null,i.a.createElement("h2",null,u.title),i.a.createElement("p",null,"Tapahtuma: ",u.info),e.login?i.a.createElement(O.a,{onClick:function(){return o()}},"Remove"):null):null})),z={createEvent:function(e,t){return console.log(e),console.log(t),function(){var t=Object(d.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.create(e);case 2:a=t.sent,console.log(a),n({type:"NEW_EVENT",data:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},createSuccessNotification:Y,clearNotification:A},D=Object(u.b)((function(e){return{user:e.user}}),z)((function(e){var t=Object(a.useState)(""),n=Object(E.a)(t,2),r=n[0],s=n[1],u=Object(a.useState)(""),o=Object(E.a)(u,2),l=(o[0],o[1]),c=Object(a.useState)(""),m=Object(E.a)(c,2),p=m[0],v=m[1];return i.a.createElement("div",null,i.a.createElement("h3",null,"Add new event "),i.a.createElement(b.a,{onSubmit:function(t){t.preventDefault(),e.createEvent({title:r,info:p},e.user),e.createSuccessNotification("Created new event: ".concat(r,".")),setTimeout((function(){e.clearNotification()}),5e3),l(""),v("")}},i.a.createElement(b.a.Group,null,i.a.createElement(b.a.Label,null," Title:"),i.a.createElement(b.a.Control,{id:"title",type:"text",value:r,name:"title",onChange:function(e){s(e.target.value)}}),i.a.createElement(b.a.Label,null," info:"),i.a.createElement(b.a.Control,{id:"info",type:"text",value:p,name:"info",onChange:function(e){v(e.target.value)}}),i.a.createElement(O.a,{id:"submit-button",variant:"primary",type:"submit"},"Create Event"))))})),U=function(){return y.a.get("/api/users").then((function(e){return e.data}))},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;default:return e}},B={setLoginFromToken:function(e){return function(){var t=Object(d.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_LOGIN",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},initializeUsers:function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:n=e.sent,t({type:"INIT_USERS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},initializeEvents:function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getAll();case 2:n=e.sent,t({type:"INIT_EVENTS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},q=Object(u.b)((function(e){return{login:e.login,users:e.users}}),B)((function(e){var t=window.localStorage.getItem("loggedEventappLogin");Object(a.useEffect)((function(){if(e.initializeEvents(),e.initializeUsers(),t){var n=JSON.parse(t);e.setLoginFromToken(n),C.setToken(n.token)}}),[]);return i.a.createElement("div",{class:"container"},i.a.createElement(o.a,null,i.a.createElement(I,null),i.a.createElement(m,null),i.a.createElement(l.c,null,i.a.createElement(l.a,{path:"/events/:id"},i.a.createElement(G,null)),i.a.createElement(l.a,{path:"/events"},i.a.createElement(F,null)),e.login?i.a.createElement(l.a,{path:"/addevent"},i.a.createElement(D,null)):i.a.createElement(l.a,{path:"/login"},i.a.createElement(N,null)),i.a.createElement(l.a,{path:"/"},i.a.createElement(V,null))),i.a.createElement(p,null)))})),P=n(17),Q=n(47),X=n(48),Z=Object(P.combineReducers)({events:M,login:g,notification:H,users:K}),$=Object(P.createStore)(Z,Object(X.composeWithDevTools)(Object(P.applyMiddleware)(Q.a)));s.a.render(i.a.createElement(u.a,{store:$},i.a.createElement(q,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.97442068.chunk.js.map