(this["webpackJsonphyrmy-frontend"]=this["webpackJsonphyrmy-frontend"]||[]).push([[0],{52:function(e,t,n){e.exports=n(82)},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),c=n(6),l=n(8),u=n(16),s=n(87),m=function(){var e=Object(c.c)((function(e){return e.notification}));return e?r.a.createElement("div",null,"error"===e.type?r.a.createElement("div",{className:"container"},e.message&&r.a.createElement(s.a,{variant:"danger"},e.message)):r.a.createElement("div",{className:"container"},e.message&&r.a.createElement(s.a,{variant:"success"},e.message))):r.a.createElement("div",null)},f=n(84),d=(Object(c.b)((function(e){return{login:e.login,users:e.users}}))((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Users"),e.users?r.a.createElement(f.a,{striped:!0},r.a.createElement("tbody",null,e.users.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(l.b,{to:"users/".concat(e.id)},"".concat(e.username))),r.a.createElement("td",null," Total blogs: ".concat(e.blogs.length)))})))):null)})),n(4)),p=n.n(d),h=n(7),g=n(15),E=n(14),v=n.n(E),b={login:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN":return t.data;case"CLEAR_LOGIN":return null;default:return e}},w=n(86),O=n(85),k={setLogin:function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.login(e);case 2:a=t.sent,window.localStorage.setItem("loggedEventappLogin",JSON.stringify(a)),n({type:"SET_LOGIN",data:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},N=Object(c.b)((function(e){return{login:e.login}}),k)((function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(""),l=Object(g.a)(c,2),u=l[0],s=l[1],m=function(){var t=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.setLogin({username:u,password:o});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement(w.a,{onSubmit:m},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"username:"),r.a.createElement(w.a.Control,{id:"username",name:"username",onChange:function(e){s(e.target.value)}}),r.a.createElement(w.a.Label,null,"password:"),r.a.createElement(w.a.Control,{id:"password",name:"password",type:"password",onChange:function(e){i(e.target.value)}}),r.a.createElement(O.a,{id:"login-button",variant:"primary",type:"submit"},"Login"))))})),j={clearLogin:function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear(),t({type:"CLEAR_LOGIN"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},I=Object(c.b)((function(e){return{login:e.login}}),j)((function(e){var t={padding:5},n=function(){var t=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.clearLogin();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log(e.login),r.a.createElement("div",{style:{border:"solid",borderWidth:5,padding:10}},r.a.createElement(l.b,{style:t,to:"/"},"Front Page"),r.a.createElement(l.b,{style:t,to:"/events"},"Events"),r.a.createElement(l.b,{style:t,to:"/contact"},"Contact us"),e.login?r.a.createElement("div",null,r.a.createElement(l.b,{style:t,to:"/addevent"},"Add new event"),r.a.createElement("p",null,"Logged in ",e.login.username,r.a.createElement("button",{style:{padding:5,float:"right"},onClick:n},"Logout"))):r.a.createElement(l.b,{style:t,to:"/login"},"Admin login"))})),T=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Metal Club of Helsinki University"),r.a.createElement("p",null,"Hey freshers, exchange students, and other new faces!"),r.a.createElement("p",null,"The friends of heavy music of Helsinki University (abr. HYRMY) is an organization operating in the University of Helsinki domain. Our objectives are to unite the metal music enthusiasts and to promote their interests. HYRMY is a devoted bunch of people with metal music close to heart. Welcome!      "),r.a.createElement("p",null,"HYRMY offers its members neverending madness and company with every imaginable form of heavy music. We organise loud club nights where music blares, spirited discussions in the form of our music nights, our hordes roam around gigs and festivals, and on top of all that the club features vast arrays of other related activities. If you are looking for brothers and sisters on the heavy journey that is life, we are your organisation.      "),r.a.createElement("p",null,"We have crafted a tight information blast for you down below, go through it to find out more!"),r.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/JOgIRii1vuU",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),r.a.createElement("h3",null,"A crash course in HYRMY's history and activities"),r.a.createElement("p",null,"Everything began on March 26, 2002 (at least officially) when the founding members of HYRMY sought to operate as an official organization under the student union of Helsinki university. At that time, HYRMY, i.e. Helsingin yliopiston raskaan musiikin yst","\xe4","v","\xe4","t, was only a small group of friends who had a shared love for metal music. Nowadays, the organization can barely be called small as the number of members has grown from just a handful over two hundred in the span of these 18 years. The growth is apparent in the organization's events; at the time of the organization's founding, all members could surely fit around one table to talk about music and drink beer, but in recent years, the most popular events have more often than not needed several tables - not to mention seats."),r.a.createElement("p",null,"Even though the growing number of participants and members has at times proved challenging in terms of keeping the drink from completely taking music's place from the spotlight, HYRMY ensures that the founding members' music orientated vision stays alive and well at the core of the organization. To keep the organization's activities from sliding into pure mindless drinking and to revitalize the founding members' vision, HYRMY created in 2015 the concept of music nights, where the focus is primarily on music and conversation about music. Other music orientated activities include, for example, pre-gig nights, where good company and good mood gathers to celebrate all sorts of bands' live music. HYRMY also has some former experience as a gig organizer, though admittedly there's been a few years' break from such activities. The rumors however tell that there are plans for bringing HYRMY-gigs back to life as soon as the circumstances happen to allow it."),r.a.createElement("p",null,"Despite the growing number of participants and members and the changes it has caused in the organization's activities, one thing has and will always remain the same: love for metal music. This shared passion ensures that there's no need to worry about finding company or topics for discussion in HYRMY's events. No matter the genres you prefer, your nationality, or the subject you major in - all lovers of metal are welcome to HYRMY!"))},C=n(50),x=null,S={getAll:function(){return v.a.get("/api/events").then((function(e){return e.data}))},create:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,v.a.post("/api/events",t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return v.a.put("".concat("/api/events","/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){x="bearer ".concat(e)},remove:function(e){var t={headers:{Authorization:x}};return v.a.delete("".concat("/api/events","/").concat(e),t).then((function(e){return e.data}))}},L=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.remove(e);case 2:n({type:"REMOVE_EVENT",data:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_EVENT":return[].concat(Object(C.a)(e),[t.data]);case"REMOVE_EVENT":var n=t.data.id,a=e.filter((function(e){return e.id!==n}));return a;case"INIT_EVENTS":return t.data;default:return e}},H=function(e){return{type:"NEW_NOTIFICATION",data:{message:e,type:"error"}}},R=function(e){return{type:"NEW_NOTIFICATION",data:{message:e,type:"success"}}},M=function(){return{type:"REMOVE_NOTIFICATION"}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_NOTIFICATION":return t.data;case"REMOVE_NOTIFICATION":return null;default:return e}},_={removeEvent:L,createSuccessNotification:R,clearNotification:M,createErrorNotification:H},z=Object(c.b)((function(e){return{visibleEvents:(t=e,t.events),login:e.login};var t}),_)((function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Events"),r.a.createElement(f.a,{striped:!0},r.a.createElement("tbody",null,e.visibleEvents.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(l.b,{to:"events/".concat(e.id)},r.a.createElement("h3",null,"".concat(e.title)))))})))))})),W={createSuccessNotification:R,createErrorNotification:H,clearNotification:M,removeEvent:L},F=Object(c.b)((function(e){return{login:e.login,events:e.events}}),W)((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=(n[0],n[1]),i=Object(u.f)().id,c=e.events.find((function(e){return e.id===i})),l=function(){var t=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Do you really want to remove ".concat(c.title,"?"))){t.next=2;break}return t.abrupt("return");case 2:o(!0),e.createErrorNotification("Removed ".concat(c.title,".")),e.removeEvent(c.id),setTimeout((function(){e.clearNotification()}),5e3);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c?r.a.createElement("div",null,r.a.createElement("h2",null,c.title),r.a.createElement("p",null,"Time: ",c.time),r.a.createElement("p",null,"Date: ",c.date),r.a.createElement("p",null,"Tapahtuma: ",c.info),e.login?r.a.createElement(O.a,{onClick:function(){return l()}},"Remove"):null):null})),G={createEvent:function(e,t){return console.log(e),console.log(t),function(){var t=Object(h.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.create(e);case 2:a=t.sent,console.log(a),n({type:"NEW_EVENT",data:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},createSuccessNotification:R,clearNotification:M},U=Object(c.b)((function(e){return{user:e.user}}),G)((function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(""),l=Object(g.a)(c,2),u=l[0],s=l[1],m=Object(a.useState)(""),f=Object(g.a)(m,2),d=f[0],p=f[1],h=Object(a.useState)(""),E=Object(g.a)(h,2),v=E[0],b=E[1];return r.a.createElement("div",null,r.a.createElement("h3",null,"Add new event "),r.a.createElement(w.a,{onSubmit:function(t){t.preventDefault(),e.createEvent({title:o,info:v,time:u,date:d},e.user),e.createSuccessNotification("Created new event: ".concat(o,".")),setTimeout((function(){e.clearNotification()}),5e3),i(""),b(""),s(""),p("")}},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null," Title:"),r.a.createElement(w.a.Control,{id:"title",type:"text",value:o,name:"title",onChange:function(e){i(e.target.value)}}),r.a.createElement(w.a.Label,null," info:"),r.a.createElement(w.a.Control,{id:"info",type:"text",value:v,name:"info",onChange:function(e){b(e.target.value)}}),r.a.createElement(w.a.Label,null," time:"),r.a.createElement(w.a.Control,{id:"time",type:"text",value:u,name:"time",onChange:function(e){s(e.target.value)}}),r.a.createElement(w.a.Label,null," date:"),r.a.createElement(w.a.Control,{id:"date",type:"text",value:d,name:"date",onChange:function(e){p(e.target.value)}}),r.a.createElement(O.a,{id:"submit-button",variant:"primary",type:"submit"},"Create Event"))))})),V=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Contact us "),r.a.createElement("h4",null,"Mailing Address"),r.a.createElement("p",null,"Helsingin yliopiston raskaan musiikin yst","\xe4","v","\xe4","t - HYRMY",r.a.createElement("br",null),"Lepp","\xe4","suonkatu 11",r.a.createElement("br",null),"00100 HELSINKI"),r.a.createElement("h4",null,"Clubroom"),r.a.createElement("p",null,"Ulrika Cluster",r.a.createElement("br",null),"Domus Gaudium, Ground floor Lepp","\xe4","suonkatu 11"),r.a.createElement("a",{href:"https://www.google.com/maps/place/Lepp%C3%A4suonkatu+11,+00100+Helsinki/@60.1693334,24.9196846,17z/data=!3m1!4b1!4m5!3m4!1s0x46920a3684d24cf7:0x20eb40ae3dbcf36a!8m2!3d60.1693334!4d24.9218733"},"Show in Google maps"),r.a.createElement("h4",null,"Email"),r.a.createElement("p",null,"Council: hyrmy-council (at) helsinki.fi"),r.a.createElement("p",null,"Webmaster: hyrmy.web (at) gmail.com"),r.a.createElement("h4",null,"Account Number"),r.a.createElement("p",null,"BIC: OKOYFIHH (OP)",r.a.createElement("br",null)," IBAN: FI80 5236 0420 2446 70"),r.a.createElement("h4",null,"Web Communities"),r.a.createElement("a",{href:"https://www.facebook.com/groups/hyrmy/"},r.a.createElement("img",{border:"0",alt:"hyrmy-facebook",src:"../../facebook-icon.png",width:"30",height:"30"}),"Facebook"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.instagram.com/hyrmy_hki/"},r.a.createElement("img",{border:"0",alt:"hyrmy-instagram",src:"../../instagram-icon.png",width:"30",height:"30"}),"Instagram"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://twitter.com/HYRMY"},r.a.createElement("img",{border:"0",alt:"hyrmy-twitter",src:"../../twitter-icon.png",width:"30",height:"30"}),"Twitter"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://calendar.google.com/calendar/u/0/embed?src=qnsj9k42fj11jn5deqfqg7lgp0@group.calendar.google.com&ctz=Europe/Helsinki"},r.a.createElement("img",{border:"0",alt:"hyrmy-calendar",src:"../../google-calendar-icon.png",width:"30",height:"30"}),"Google Calendar"))},D=function(){return v.a.get("/api/users").then((function(e){return e.data}))},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;default:return e}},q={setLoginFromToken:function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_LOGIN",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},initializeUsers:function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,t({type:"INIT_USERS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},initializeEvents:function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getAll();case 2:n=e.sent,t({type:"INIT_EVENTS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},B=Object(c.b)((function(e){return{login:e.login,users:e.users}}),q)((function(e){var t=window.localStorage.getItem("loggedEventappLogin");Object(a.useEffect)((function(){if(e.initializeEvents(),e.initializeUsers(),t){var n=JSON.parse(t);e.setLoginFromToken(n),S.setToken(n.token)}}),[]);return r.a.createElement("div",{class:"container"},r.a.createElement(l.a,null,r.a.createElement(I,null),r.a.createElement(m,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/events/:id"},r.a.createElement(F,null)),r.a.createElement(u.a,{path:"/contact"},r.a.createElement(V,null)),r.a.createElement(u.a,{path:"/events"},r.a.createElement(z,null)),e.login?r.a.createElement(u.a,{path:"/addevent"},r.a.createElement(U,null)):r.a.createElement(u.a,{path:"/login"},r.a.createElement(N,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(T,null)))))})),K=n(17),P=n(46),Q=n(47),X=Object(K.combineReducers)({events:Y,login:y,notification:A,users:J}),Z=Object(K.createStore)(X,Object(Q.composeWithDevTools)(Object(K.applyMiddleware)(P.a)));i.a.render(r.a.createElement(c.a,{store:Z},r.a.createElement(B,null)),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.0d0274b7.chunk.js.map